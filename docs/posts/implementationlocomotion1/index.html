<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Implementation of Locomotion | VR Interaction Project 2022</title>
<meta name="keywords" content="">
<meta name="description" content="Implementation of Locomotion
Initially, I decided for a 3rd person player to reduce motion sickness. But after discussing the idea in class, I decided for a 1st person view as that allows for smoother camera motion. Therefore a kite has been added that should enable the player to use the fan to blow wind into the kite. The player then is attached to the kite.
The first idea was to make the kite follow the y-axis position from the Ventilator.">
<meta name="author" content="">
<link rel="canonical" href="https://4yjo.github.io/InteractVR/posts/implementationlocomotion1/">
<link crossorigin="anonymous" href="/InteractVR/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css" integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/InteractVR/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://4yjo.github.io/InteractVR/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://4yjo.github.io/InteractVR/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://4yjo.github.io/InteractVR/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://4yjo.github.io/InteractVR/apple-touch-icon.png">
<link rel="mask-icon" href="https://4yjo.github.io/InteractVR/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Implementation of Locomotion" />
<meta property="og:description" content="Implementation of Locomotion
Initially, I decided for a 3rd person player to reduce motion sickness. But after discussing the idea in class, I decided for a 1st person view as that allows for smoother camera motion. Therefore a kite has been added that should enable the player to use the fan to blow wind into the kite. The player then is attached to the kite.
The first idea was to make the kite follow the y-axis position from the Ventilator." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://4yjo.github.io/InteractVR/posts/implementationlocomotion1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-20T10:59:47+01:00" />
<meta property="article:modified_time" content="2022-12-20T10:59:47+01:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Implementation of Locomotion"/>
<meta name="twitter:description" content="Implementation of Locomotion
Initially, I decided for a 3rd person player to reduce motion sickness. But after discussing the idea in class, I decided for a 1st person view as that allows for smoother camera motion. Therefore a kite has been added that should enable the player to use the fan to blow wind into the kite. The player then is attached to the kite.
The first idea was to make the kite follow the y-axis position from the Ventilator."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://4yjo.github.io/InteractVR/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Implementation of Locomotion",
      "item": "https://4yjo.github.io/InteractVR/posts/implementationlocomotion1/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Implementation of Locomotion",
  "name": "Implementation of Locomotion",
  "description": "Implementation of Locomotion\nInitially, I decided for a 3rd person player to reduce motion sickness. But after discussing the idea in class, I decided for a 1st person view as that allows for smoother camera motion. Therefore a kite has been added that should enable the player to use the fan to blow wind into the kite. The player then is attached to the kite.\nThe first idea was to make the kite follow the y-axis position from the Ventilator.",
  "keywords": [
    
  ],
  "articleBody": "Implementation of Locomotion\nInitially, I decided for a 3rd person player to reduce motion sickness. But after discussing the idea in class, I decided for a 1st person view as that allows for smoother camera motion. Therefore a kite has been added that should enable the player to use the fan to blow wind into the kite. The player then is attached to the kite.\nThe first idea was to make the kite follow the y-axis position from the Ventilator. Even though that approach was a bit slow, it allowed the kite to be moved from left to right. Then a force was applied to move the kite forward. The player was attached to the kite as a child and thus followed its movement.\nThis did not work well, as it did not allow the kite to rotate. The player could only move in forward direction and do zig-zag movements to the left and right but it was impossible to turn around a corner.\nIn the next iteration I managed to rotate the kite in a smooth circle according to the angle of rotation of the left controller. Therefore I attached the kite as child to an invisible cylinder that is used to recenter the rotation. Now, people can move the controller and the kite follows its orientation as if it is blown by wind. This worked well and very smooth as long as I used it. But as the values for mapping the controller rotation to the kite rotation were just retrieved by trial-and-error they were highly customed to my physiology and how I hold the controller. I was thinking about introducing a pre-task that would ask the make certain movements in with the controller to learn user specific values. But another problem occured with this way of implementation: The player rotation did not allign with the rotation of the field of view that was constantly changed by the users head movement. This lead to the problem that when turning around the second corner of the parcour there was a mismatched positioning of the player and the kite: The kite now needed to be positioned behind the players back to generate forward movement, which made it nearly impossible to controll the direction the player was moving to. To fix those problems I re-implemented the rotation of the kite using Raycast and Colliders. (Refer to the blog post about Raycast for more information). In the final implementation I am mapping the controllers y-rotation (in euler angles) to one of four areas as follows:\nThen, in the script the players forward direction is specified.\nTo add movement I used the index trigger from the controller. It felt natural to use that, as it would be a similar hand movement if the user was holding a ventilator or hairdryer instead of the controller.\nThe final implementation allows for precice navigation and testers had a good understanding of how to use the ventilator and the kite togehter for locomotion.\nif((OVRInput.Get(OVRInput.Axis1D.PrimaryIndexTrigger))\u003e 0f) { this.transform.Translate(transform.forward*0.1f); } ",
  "wordCount" : "501",
  "inLanguage": "en",
  "datePublished": "2022-12-20T10:59:47+01:00",
  "dateModified": "2022-12-20T10:59:47+01:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://4yjo.github.io/InteractVR/posts/implementationlocomotion1/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "VR Interaction Project 2022",
    "logo": {
      "@type": "ImageObject",
      "url": "https://4yjo.github.io/InteractVR/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://4yjo.github.io/InteractVR" accesskey="h" title="VR Interaction Project 2022 (Alt + H)">VR Interaction Project 2022</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Implementation of Locomotion
    </h1>
    <div class="post-meta"><span title='2022-12-20 10:59:47 +0100 CET'>December 20, 2022</span>

</div>
  </header> 
  <div class="post-content"><p><strong>Implementation of Locomotion</strong></p>
<p>Initially, I decided for a 3rd person player to reduce motion sickness. But after discussing the idea in class, I decided for a 1st person view as that allows for smoother camera motion. Therefore a kite has been added that should enable the player to use the fan to blow wind into the kite. The player then is attached to the kite.</p>
<!-- raw HTML omitted -->
<p><img loading="lazy" src="./player_mod.png" alt="From 1st to 3rd person player implementation"  />

<img loading="lazy" src="../../static/sketch_locomotion.png" alt="From 1st to 3rd person player implementation"  />
</p>
<p>The first idea was to make the kite follow the y-axis position from the Ventilator. Even though that approach was a bit slow, it allowed the kite to be moved from left to right. Then a force was applied to move the kite forward. The player was attached to the kite as a child and thus followed its movement.</p>
<!-- raw HTML omitted -->
<p>This did not work well, as it did not allow the kite to rotate. The player could only move in forward direction and do zig-zag movements to the left and right but it was impossible to turn around a corner.</p>
<p>In the next iteration I managed to rotate the kite in a smooth circle according to the angle of rotation of the left controller. Therefore I attached the kite as child to an invisible cylinder that is used to recenter the rotation. Now, people can move the controller and the kite follows its orientation as if it is blown by wind. This worked well and very smooth as long as I used it. But as the values for mapping the controller rotation to the kite rotation were just retrieved by trial-and-error they were highly customed to my physiology and how I hold the controller. I was thinking about introducing a pre-task that would ask the make certain movements in with the controller to learn user specific values.
But another problem occured with this way of implementation: The player rotation did not allign with the rotation of the field of view that was constantly changed by the users head movement. This lead to the problem that when turning around the second corner of the parcour there was a mismatched positioning of the player and the kite: The kite now needed to be positioned behind the players back to generate forward movement, which made it nearly impossible to controll the direction the player was moving to.
To fix those problems I re-implemented the rotation of the kite using Raycast and Colliders. (Refer to the blog post about Raycast for more information).
In the final implementation I am mapping the controllers y-rotation (in euler angles) to one of four areas as follows:</p>
<p>Then, in the script the players forward direction is specified.</p>
<!-- raw HTML omitted -->
<p>To add movement I used the index trigger from the controller. It felt natural to use that, as it would be a similar hand movement if the user was holding a ventilator or hairdryer instead of the controller.</p>
<p>The final implementation allows for precice navigation and testers had a good understanding of how to use the ventilator and the kite togehter for locomotion.</p>
<pre tabindex="0"><code>if((OVRInput.Get(OVRInput.Axis1D.PrimaryIndexTrigger))&gt; 0f) 
        {
            this.transform.Translate(transform.forward*0.1f);
        }
</code></pre>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://4yjo.github.io/InteractVR">VR Interaction Project 2022</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
